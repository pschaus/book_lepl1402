

<!doctype html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Object-Oriented Programming &#8212; LEPL1402  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bizstyle.css" />
    
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/bizstyle.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Unit testing" href="part3.html" />
    <link rel="prev" title="From Python to Java" href="part1.html" />

    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <!--[if lt IE 9]>
    <script src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-125847974-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="part3.html" title="Unit testing"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="part1.html" title="From Python to Java"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LEPL1402  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Object-Oriented Programming</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="object-oriented-programming">
<span id="part2"></span><h1>Object-Oriented Programming<a class="headerlink" href="#object-oriented-programming" title="Permalink to this heading">¶</a></h1>
<section id="basics">
<h2>Basics<a class="headerlink" href="#basics" title="Permalink to this heading">¶</a></h2>
<section id="creating-your-own-objects">
<h3>Creating your own objects<a class="headerlink" href="#creating-your-own-objects" title="Permalink to this heading">¶</a></h3>
<p><em>Computer programs are about organizing data and working with that data</em>. In some applications, the primitive types, arrays, and strings are enough, but often you have data that is more complex than that.
For example, imagine a program to manage employees in a company. We can describe the fact that each employee has a name and a salary, by defining a new <em>class</em> in our Java program:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">    </span><span class="c1">// the name of the employee</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span><span class="w">     </span><span class="c1">// the salary of the employee</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Classes allow us to create new <em>objects</em> from them. In our example, each object of the class <code class="code docutils literal notranslate"><span class="pre">Employee</span></code> represents an employee, which makes it easy to organize our data:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">();</span><span class="w">    </span><span class="c1">// a new object!</span>
<span class="w">        </span><span class="n">person1</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Peter&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="n">person1</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42000</span><span class="p">;</span>

<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">();</span><span class="w">    </span><span class="c1">// a new object!</span>
<span class="w">        </span><span class="n">person2</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Anna&quot;</span><span class="p">;</span>
<span class="w">        </span><span class="n">person2</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45000</span><span class="p">;</span>

<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">salaryDifference</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">person1</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">person2</span><span class="p">.</span><span class="na">salary</span><span class="p">;</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;The salary difference is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">salaryDifference</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The two objects that we created and put into the local variables <code class="code docutils literal notranslate"><span class="pre">person1</span></code> and <code class="code docutils literal notranslate"><span class="pre">person2</span></code> are called <em>instances</em> of the class <code class="code docutils literal notranslate"><span class="pre">Employee</span></code>, and the two variables <code class="code docutils literal notranslate"><span class="pre">name</span></code> and <code class="code docutils literal notranslate"><span class="pre">age</span></code> are called <em>instance variables</em> of the class <code class="code docutils literal notranslate"><span class="pre">Employee</span></code>. Since they are not static, they belong to the instances, and each instance has its own <code class="code docutils literal notranslate"><span class="pre">name</span></code> and <code class="code docutils literal notranslate"><span class="pre">age</span></code>.</p>
</section>
<section id="initializing-objects">
<h3>Initializing objects<a class="headerlink" href="#initializing-objects" title="Permalink to this heading">¶</a></h3>
<p>In the above example, we first created the object, and then set the values of its instance variables:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">();</span>
<span class="n">person1</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Peter&quot;</span><span class="p">;</span>
<span class="n">person1</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">42000</span><span class="p">;</span>
</pre></div>
</div>
<p>Like static variables, instance variables are automatically initialized with the value 0 (for number variables), with <code class="code docutils literal notranslate"><span class="pre">false</span></code> (for Boolean variables), or with <code class="code docutils literal notranslate"><span class="pre">null</span></code> (for all other types). In our example, this is dangerous because we could forget to specify the salary of the employee:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">();</span>
<span class="n">person1</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Peter&quot;</span><span class="p">;</span>
<span class="c1">// oops, the salary is 0</span>
</pre></div>
</div>
<p>There are several ways to avoid this kind of mistake. One way is to initialize the variable in the class definition:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Of course, this is only useful if you want that all employees start with a salary of 10000. The other way is to define a <em>constructor</em> in your class. The constructor is a special method that has the same name as the class. It can have parameters but it has no return type:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>

<span class="w">    </span><span class="c1">// the constructor</span>
<span class="w">    </span><span class="n">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you provide a constructor for your class, the Java compiler will verify that you use it to create new objects:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">42000</span><span class="p">);</span>
<span class="c1">// Okay. We have now a new employee with</span>
<span class="c1">//    person1.name &quot;Peter&quot;</span>
<span class="c1">//    person1.salary 42000</span>

<span class="n">Employee</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">();</span><span class="w">   </span><span class="c1">// not allowed. You must use the constructor!</span>
</pre></div>
</div>
<p>In our example, the constructor took two parameters <code class="code docutils literal notranslate"><span class="pre">n</span></code> and <code class="code docutils literal notranslate"><span class="pre">s</span></code> and used them to initialize the instance variables <code class="code docutils literal notranslate"><span class="pre">name</span></code> and <code class="code docutils literal notranslate"><span class="pre">salary</span></code> of a new <code class="code docutils literal notranslate"><span class="pre">Employee</span></code> object. But how does the constructor know which object to initialize? Do we have to tell the constructor that the new object is in the variable <code class="code docutils literal notranslate"><span class="pre">person1</span></code>? Fortunately, it’s easier than that. The constructor can always access the object being constructed by using the keyword <code class="code docutils literal notranslate"><span class="pre">this</span></code>. Therefore, the line</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="p">;</span>
</pre></div>
</div>
<p>means that the instance variable <code class="code docutils literal notranslate"><span class="pre">name</span></code> of the new object will be initialized to the value of the parameter variable <code class="code docutils literal notranslate"><span class="pre">n</span></code>. We could even use the same names for the parameter variables and for the instance variables:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>

<span class="w">    </span><span class="n">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Like for class variables, we have to be careful with shadowing. Without <code class="code docutils literal notranslate"><span class="pre">this.</span></code> in front of the variable name, the Java compiler will assume that you mean the parameter variable. It’s a common mistake to write something like:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>

<span class="w">    </span><span class="n">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span><span class="w">       </span><span class="c1">//  oops, this.name is not changed here!</span>
<span class="w">        </span><span class="n">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span><span class="w">   </span><span class="c1">//  oops, this.salary is not changed here!</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="mental-model">
<h3>Mental model<a class="headerlink" href="#mental-model" title="Permalink to this heading">¶</a></h3>
<p>Like array variables and <code class="docutils literal notranslate"><span class="pre">String</span></code> variables, object variables contain a reference to the object in your computer’s main memory. The object itself contains the instance variables. Note that an instance variable can be again a reference. For our employee <code class="docutils literal notranslate"><span class="pre">Peter</span></code>, we get the following structure:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 46%" />
<col style="width: 54%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Java code</p></th>
<th class="head"><p>In memory during execution</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span> <span class="n">person1</span> <span class="o">=</span>
   <span class="n">new</span> <span class="n">Employee</span><span class="p">(</span><span class="s2">&quot;Peter&quot;</span><span class="p">,</span> <span class="mi">42000</span><span class="p">);</span>
</pre></div>
</div>
</td>
<td><blockquote>
<div><dl class="simple">
<dt>/</dt><dd><p>/</p>
</dd>
</dl>
</div></blockquote>
<a class="reference internal image-reference" href="_images/objectn.svg"><img alt="_images/objectn.svg" src="_images/objectn.svg" width="80%" /></a>
</td>
</tr>
</tbody>
</table>
<p>Because of this, what we have already said about array variables and <code class="docutils literal notranslate"><span class="pre">String</span></code> variables also holds for object variables: assigning an object variable to another object variable only copies the reference. Comparing two object variables will only compare the references, not the content of the objects:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="w"> </span><span class="n">person1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">42000</span><span class="p">);</span>
<span class="n">Employee</span><span class="w"> </span><span class="n">person2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">42000</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">person1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">person2</span><span class="p">);</span><span class="w">      </span><span class="c1">// false. Two different objects.</span>

<span class="n">Employee</span><span class="w"> </span><span class="n">person3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">person1</span><span class="p">;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">person1</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">person3</span><span class="p">);</span><span class="w">      </span><span class="c1">// true. Same object.</span>
</pre></div>
</div>
</section>
<section id="working-with-objects">
<h3>Working with objects<a class="headerlink" href="#working-with-objects" title="Permalink to this heading">¶</a></h3>
<p>Many things that you can do with primitive types and strings, you can also do them with objects. For example, you can create arrays of objects. The elements of a new array of objects are automatically initialized to <code class="code docutils literal notranslate"><span class="pre">null</span></code>, as shown in this example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="o">[]</span><span class="w"> </span><span class="n">myTeam</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="p">;</span>
<span class="n">myTeam</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">42000</span><span class="p">);</span>
<span class="n">myTeam</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Anna&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45000</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">myTeam</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="p">.</span><span class="na">name</span><span class="p">);</span><span class="w">       </span><span class="c1">// is &quot;Peter&quot;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">myTeam</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="p">.</span><span class="na">name</span><span class="p">);</span><span class="w">       </span><span class="c1">// is &quot;Anna&quot;</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">myTeam</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">.</span><span class="na">name</span><span class="p">);</span><span class="w">       </span><span class="c1">// Error! myTeam[2] is null</span>
</pre></div>
</div>
<p>You can also have class variables and instance variables that are object variables. Again, they will be automatically initialized to <code class="code docutils literal notranslate"><span class="pre">null</span></code>, if you don’t provide an initial value. In the following example, we have added a new instance variable <code class="code docutils literal notranslate"><span class="pre">boss</span></code> to our <code class="code docutils literal notranslate"><span class="pre">Employee</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>
<span class="w">    </span><span class="n">Employee</span><span class="w"> </span><span class="n">boss</span><span class="p">;</span>

<span class="w">    </span><span class="n">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">,</span><span class="w"> </span><span class="n">Employee</span><span class="w"> </span><span class="n">boss</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">boss</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">boss</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// Anna has no boss</span>
<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">anna</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Anna&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45000</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Anna is the boss of Peter</span>
<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">peter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">42000</span><span class="p">,</span><span class="w"> </span><span class="n">anna</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Exercise for you: Take a sheet of paper and draw the mental model graph for the object representing Peter.</p>
<p>Question: In the above example, what value do we give to the <code class="code docutils literal notranslate"><span class="pre">boss</span></code> instance variable of an employee who has no boss?</p>
</section>
<section id="methods">
<h3>Methods<a class="headerlink" href="#methods" title="Permalink to this heading">¶</a></h3>
<p>In the following example, we define a static method <code class="code docutils literal notranslate"><span class="pre">increaseSalary()</span></code> to increase the salary of an employee:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>

<span class="w">    </span><span class="n">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">increaseSalary</span><span class="p">(</span><span class="n">Employee</span><span class="w"> </span><span class="n">employee</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">raise</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// we only raise the salary if the raise is less than 10000</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">raise</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">employee</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">raise</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">anna</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Anna&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45000</span><span class="p">);</span>
<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">peter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45000</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Anna and Peter get a salary raise</span>
<span class="w">        </span><span class="n">increaseSalary</span><span class="p">(</span><span class="n">anna</span><span class="p">,</span><span class="w"> </span><span class="mi">2000</span><span class="p">);</span>
<span class="w">        </span><span class="n">increaseSalary</span><span class="p">(</span><span class="n">peter</span><span class="p">,</span><span class="w"> </span><span class="mi">3000</span><span class="p">);</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;New salary of Anna is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">anna</span><span class="p">.</span><span class="na">salary</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;New salary of Peter is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">peter</span><span class="p">.</span><span class="na">salary</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The above code works. But in Object-Oriented Programming (OOP) languages like Java, we generally prefer that all methods that modify instance variables of an object are put inside the class definition. In a large program, this makes it easier to understand who is doing what with an object. To implement this, we replace the static method <code class="code docutils literal notranslate"><span class="pre">increaseSalary()</span></code> of the <code class="code docutils literal notranslate"><span class="pre">Main</span></code> class by a non-static method in the <code class="code docutils literal notranslate"><span class="pre">Employee</span></code> class:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>

<span class="w">    </span><span class="n">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">increaseSalary</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">raise</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">raise</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">raise</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">anna</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Anna&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45000</span><span class="p">);</span>
<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">peter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45000</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// Anna and Peter get a salary raise</span>
<span class="w">        </span><span class="n">anna</span><span class="p">.</span><span class="na">increaseSalary</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>
<span class="w">        </span><span class="n">peter</span><span class="p">.</span><span class="na">increaseSalary</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;New salary of Anna is &quot;</span><span class="o">+</span><span class="w"> </span><span class="n">anna</span><span class="p">.</span><span class="na">salary</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;New salary of Peter is &quot;</span><span class="o">+</span><span class="w"> </span><span class="n">peter</span><span class="p">.</span><span class="na">salary</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Because <code class="code docutils literal notranslate"><span class="pre">increaseSalary()</span></code> is now a non-static method of <code class="code docutils literal notranslate"><span class="pre">Employee</span></code>, we can directly call it on an Employee object. No parameter <code class="code docutils literal notranslate"><span class="pre">employee</span></code> is needed because, inside the method, the <code class="code docutils literal notranslate"><span class="pre">this</span></code> keyword is a reference to the object on which the method has been called. Therefore, we just write <code class="code docutils literal notranslate"><span class="pre">anna.increaseSalary(2000)</span></code> to change the salary of Anna.</p>
</section>
<section id="restricting-access">
<h3>Restricting access<a class="headerlink" href="#restricting-access" title="Permalink to this heading">¶</a></h3>
<p>The nice thing about our <code class="code docutils literal notranslate"><span class="pre">increaseSalary()</span></code> method is that we can make sure that raises are limited to 10000 Euro :) However, nobody stops the programmer to ignore that method and manually change the salary:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Employee</span><span class="w"> </span><span class="n">anna</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Anna&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45000</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="p">);</span>
<span class="n">anna</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1500000</span><span class="p">;</span><span class="w">   </span><span class="c1">// ha!</span>
</pre></div>
</div>
<p>This kind of mistake can quickly happen in a large program with hundreds of classes.
We can prevent this by declaring the instance variable <code class="code docutils literal notranslate"><span class="pre">salary</span></code> as <code class="code docutils literal notranslate"><span class="pre">private</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>

<span class="w">    </span><span class="n">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">increaseSalary</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">raise</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">raise</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">raise</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A private instance variable is only accessible <em>inside</em> the class. So the access <code class="code docutils literal notranslate"><span class="pre">anna.salary</span> <span class="pre">+=</span> <span class="pre">150000</span></code> in the <code class="code docutils literal notranslate"><span class="pre">Main</span></code> class doesn’t work anymore. Mission accomplished…</p>
<p>Unfortunately, that’s a bit annoying because it also means that we cannot access anymore Anna’s salary in <code class="code docutils literal notranslate"><span class="pre">System.out.println(&quot;New</span> <span class="pre">salary</span> <span class="pre">of</span> <span class="pre">Anna</span> <span class="pre">is</span> <span class="pre">&quot;+anna.salary)</span></code>. To fix this, we can add a method <code class="code docutils literal notranslate"><span class="pre">getSalary()</span></code> whose only purpose is to give us the value of the private <code class="code docutils literal notranslate"><span class="pre">salary</span></code> variable. Here is the new version of the code:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>

<span class="w">    </span><span class="n">Employee</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">salary</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">salary</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">increaseSalary</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">raise</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">raise</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">10000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">raise</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getSalary</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">salary</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Employee</span><span class="w"> </span><span class="n">anna</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Employee</span><span class="p">(</span><span class="s">&quot;Anna&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45000</span><span class="p">);</span>

<span class="w">        </span><span class="n">anna</span><span class="p">.</span><span class="na">increaseSalary</span><span class="p">(</span><span class="mi">2000</span><span class="p">);</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;New salary of Anna is &quot;</span><span class="o">+</span><span class="w"> </span><span class="n">anna</span><span class="p">.</span><span class="na">getSalary</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="inheritance">
<span id="id1"></span><h3>Inheritance<a class="headerlink" href="#inheritance" title="Permalink to this heading">¶</a></h3>
<p>Let’s say we are writing a computer game, for example an RPG (role-playing game). We implement weapons as objects of the class <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>. The damage that a weapon can inflict depends on its level. The price of a weapon also depends on its level. The code could look like this:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>

<span class="w">    </span><span class="n">Weapon</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getPrice</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">500</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getSimpleDamage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">level</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getDoubleDamage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getSimpleDamage</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="p">;</span>

<span class="w">        </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Weapon</span><span class="p">(</span><span class="s">&quot;Small dagger&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Price is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getPrice</span><span class="p">());</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Simple damage is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getSimpleDamage</span><span class="p">());</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Double damage is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getDoubleDamage</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Before you continue, carefully study the above program and make sure that you understand what it does. Run it in IntelliJ. Things are about to get a little more complicated in the following!</strong></p>
<p>In our game, there is also a special weapon type, the <em>Mighty Swords</em>. These swords always deal a damage of 1000, independently of their level. In Java, we can implement this new weapon type like this:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MightySword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MightySword</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">level</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getSimpleDamage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>According to the first line of this code, the class <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> <em>extends</em> the class <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>. We say that <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> is <em>a subclass</em> (or <em>subtype</em>) of <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>, or we can say that <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code> is a <em>superclass</em> of <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>. In practice, this means that everything we can do with objects of the class <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code> we can also do with objects of the class <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="p">;</span>

<span class="w">    </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MightySword</span><span class="p">(</span><span class="s">&quot;Magic sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Price is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getPrice</span><span class="p">());</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Simple damage is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getSimpleDamage</span><span class="p">());</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Double damage is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getDoubleDamage</span><span class="p">());</span>
<span class="p">}</span>
</pre></div>
</div>
<p>At first glance, there seems to be a mistake in the above <code class="docutils literal notranslate"><span class="pre">main()</span></code> method. Why is the line</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MightySword</span><span class="p">(</span><span class="s">&quot;Magic sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<p>not a type error? On the left, we have the variable <code class="code docutils literal notranslate"><span class="pre">weapon</span></code> of type <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code> and on the right we have a new object of <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>. But this is acceptable for the compiler because Java has the following rule:</p>
<p><strong>Rule 1: A variable of type X can hold a reference to an object of class X or to an object of a subclass of X</strong>.</p>
<p>Because of rule 1, the compiler is perfectly happy with putting a reference to a <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> object in a variable declared as type <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>. For Java, MightySword instances are just special Weapon instances.</p>
<a class="reference internal image-reference" href="_images/classhierarchyruleone.svg"><img alt="_images/classhierarchyruleone.svg" src="_images/classhierarchyruleone.svg" width="70%" /></a>
<p>The next line of the <code class="docutils literal notranslate"><span class="pre">main()</span></code> method looks strange, too:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Price is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getPrice</span><span class="p">());</span>
</pre></div>
</div>
<p>Our class <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> has not defined a method <code class="code docutils literal notranslate"><span class="pre">getPrice</span></code> so why can we call <code class="code docutils literal notranslate"><span class="pre">weapon.getPrice()</span></code>? This is another rule in Java:</p>
<p><strong>Rule 2: The subclass inherits the methods of its superclass. Methods defined in a class X can be also used on objects of a subclass of X.</strong></p>
<p>Let’s look at the next line. It is:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Simple damage is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getSimpleDamage</span><span class="p">());</span>
</pre></div>
</div>
<p>Just by looking at this line and the line <code class="code docutils literal notranslate"><span class="pre">Weapon</span> <span class="pre">weapon</span></code> at the beginning of the <code class="code docutils literal notranslate"><span class="pre">main()</span></code> method, you might expect that <code class="code docutils literal notranslate"><span class="pre">weapon.getSimpleDamage()</span></code> calls the <code class="code docutils literal notranslate"><span class="pre">getSimpleDamage()</span></code> method of the <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code> class. However, if you check the output of the program, you will see that the method <code class="code docutils literal notranslate"><span class="pre">getSimpleDamage()</span></code> of the class <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> is called. Why? Because <code class="code docutils literal notranslate"><span class="pre">weapon</span></code> contains a reference to a <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> object. The rule is:</p>
<p><strong>Rule 3: Let x be a variable of type X (where X is a class) and let’s assign an object of class Y (where Y is a subclass of X) to x. When you call a method on x and the method is defined in X and in Y, the JVM will execute the method defined in Y.</strong></p>
<p>For instances of the class <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>, calling <code class="code docutils literal notranslate"><span class="pre">getSimpleDamage()</span></code> will always execute the method defined in that class. We say that the method <code class="code docutils literal notranslate"><span class="pre">getSimpleDamage()</span></code> in <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>  <em>overrides</em> the method definition in the class <code class="docutils literal notranslate"><span class="pre">Weapon</span></code>. For that reason, we have marked the method in <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> with the so-called <code class="code docutils literal notranslate"><span class="pre">&#64;Override</span></code> annotation.</p>
<a class="reference internal image-reference" href="_images/classhierarchyrule23.svg"><img alt="_images/classhierarchyrule23.svg" src="_images/classhierarchyrule23.svg" width="50%" /></a>
<p>With the above three rules, can you guess what happens in the next line?</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Double damage is &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getDoubleDamage</span><span class="p">());</span>
</pre></div>
</div>
<p>According to rule 2, the class <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> inherits the method <code class="code docutils literal notranslate"><span class="pre">getDoubleDamage()</span></code> of the class <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>. So, let’s check how that method was defined in the class <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">getDoubleDamage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">getSimpleDamage</span><span class="p">()</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The method calls <code class="code docutils literal notranslate"><span class="pre">this.getSimpleDamage()</span></code>. Which method <code class="code docutils literal notranslate"><span class="pre">getSimpleDamage()</span></code> will be called? The one defined in <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code> or the one in <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>? To answer this question, you have to remember rule 3! The <code class="code docutils literal notranslate"><span class="pre">this</span></code> in <code class="code docutils literal notranslate"><span class="pre">this.getSimpleDamage()</span></code> refers to the object on which the method was called. Since our method is an object of the class <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>, the method <code class="code docutils literal notranslate"><span class="pre">getSimpleDamage()</span></code> of <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> will be called. The fact that <code class="docutils literal notranslate"><span class="pre">getDoubleDamage</span></code> is defined in the class <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code> does not change rule 3.</p>
</section>
<section id="super">
<h3>Super<a class="headerlink" href="#super" title="Permalink to this heading">¶</a></h3>
<p>There is one thing left in our <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code> class that we have not yet explained. It’s the constructor:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MightySword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Weapon</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">MightySword</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">level</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="p">...</span>
<span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>In the constructor, the keyword <code class="code docutils literal notranslate"><span class="pre">super</span></code> stands for the constructor of the superclass of <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>, that is <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>. Therefore, the line <code class="code docutils literal notranslate"><span class="pre">super(name,level)</span></code> simply calls the constructor as defined in <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>.</p>
<p><code class="code docutils literal notranslate"><span class="pre">super</span></code> can also be used in methods. Imagine we want to define a new weapon type <em>Expensive Weapon</em> that costs exactly 100 more than a normal weapon. We can implement it as follows:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">ExpensiveWeapon</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Weapon</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="n">ExpensiveWeapon</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">level</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getPrice</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="kd">super</span><span class="p">.</span><span class="na">getPrice</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The expression <code class="code docutils literal notranslate"><span class="pre">super.getPrice()</span></code> calls the method <code class="code docutils literal notranslate"><span class="pre">getPrice()</span></code> as defined in the superclass <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>. That means that the keyword <code class="code docutils literal notranslate"><span class="pre">super</span></code> can be used to call methods of the superclass, which would normally not be possible for overridden methods because of rule 3.</p>
</section>
<section id="the-override-annotation">
<h3>The &#64;Override annotation<a class="headerlink" href="#the-override-annotation" title="Permalink to this heading">¶</a></h3>
<p>The <code class="code docutils literal notranslate"><span class="pre">&#64;Override</span></code> annotation is not strictly necessary in Java (the compiler doesn’t need it for itself), but it helps you to avoid mistakes. For example, imagine you made a spelling error when you wrote the name of <code class="code docutils literal notranslate"><span class="pre">getSimpleDamage()</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MightySword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">MightySword</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">level</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getSimpleDamag</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">//  oops, we forgot the &quot;e&quot; in &quot;getSimpleDamage()&quot;</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Because of your spelling error, the code above actually does not override anything. It just introduces a new method <code class="code docutils literal notranslate"><span class="pre">getSimpleDamag()</span></code>. But thanks to the <code class="code docutils literal notranslate"><span class="pre">&#64;Override</span></code> annotation, the Java compiler can warn us that there is a problem.</p>
</section>
<section id="extending-extending">
<h3>Extending, extending,…<a class="headerlink" href="#extending-extending" title="Permalink to this heading">¶</a></h3>
<p>A subclass cannot only override methods of its superclass, it can also add new instance variables and new methods. For example, we can define a new type of Mighty Swords that can do magic damage:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">MagicSword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MightySword</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">magicLevel</span><span class="p">;</span>

<span class="w">    </span><span class="n">MagicSword</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">magicLevel</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">level</span><span class="p">);</span><span class="w">  </span><span class="c1">// call the constructor of MightySword</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">magicLevel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">magicLevel</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getMagicDamage</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">magicLevel</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As you can see, you can create subclasses of subclasses. Note that the constructor uses again <code class="code docutils literal notranslate"><span class="pre">super</span></code> to first call the constructor of the superclass and then initializes the new instance variable <code class="code docutils literal notranslate"><span class="pre">magicLevel</span></code>.</p>
<p>How can we call the method <code class="code docutils literal notranslate"><span class="pre">getMagicDamage()</span></code>? Can we do this:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MagicSword</span><span class="p">(</span><span class="s">&quot;Elven sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">weapon</span><span class="p">.</span><span class="na">getMagicDamage</span><span class="p">());</span>
</pre></div>
</div>
<p>The answer is no! Rule 3 is only applied to methods that are defined in the subclass <em>and</em> in the superclass. This is not the case for <code class="code docutils literal notranslate"><span class="pre">getMagicDamage()</span></code>.
In this situation, the Java compiler will not accept the call <code class="code docutils literal notranslate"><span class="pre">weapon.getMagicDamage()</span></code> because, just by looking at the variable declaration <code class="code docutils literal notranslate"><span class="pre">Weapon</span> <span class="pre">weapon</span></code>, it cannot tell that the object referenced by the variable <code class="code docutils literal notranslate"><span class="pre">weapon</span></code> really has a method <code class="code docutils literal notranslate"><span class="pre">getMagicDamage</span></code>. You might think that the compiler is a bit stupid here, but remember that this is just a simple example and the programmer could try to do some strange things that are difficult to see for the compiler:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MagicSword</span><span class="p">(</span><span class="s">&quot;Elven sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Weapon</span><span class="p">(</span><span class="s">&quot;Dagger&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">weapon</span><span class="p">.</span><span class="na">getMagicDamage</span><span class="p">());</span><span class="w">  </span><span class="c1">// does not compile, fortunately!</span>
</pre></div>
</div>
<p>To be able to call <code class="code docutils literal notranslate"><span class="pre">getMagicDamage()</span></code>, you have to convince the compiler that the variable contains a reference to a Magic Sword object. For example, you could change the type of the variable:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">MagicSword</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MagicSword</span><span class="p">(</span><span class="s">&quot;Elven sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">weapon</span><span class="p">.</span><span class="na">getMagicDamage</span><span class="p">());</span>
</pre></div>
</div>
<p>In this way, it’s 100% clear for the compiler that the variable definitely refers to a <code class="code docutils literal notranslate"><span class="pre">MagicSword</span></code> object (or to an object of a subclass of <code class="code docutils literal notranslate"><span class="pre">MagicSword</span></code>; remember rule 1).</p>
<p>Alternatively, you can do a type cast:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MagicSword</span><span class="p">(</span><span class="s">&quot;Elven sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(((</span><span class="n">MagicSword</span><span class="p">)</span><span class="w"> </span><span class="n">weapon</span><span class="p">).</span><span class="na">getMagicDamage</span><span class="p">());</span>
</pre></div>
</div>
<p>However, be careful with type casts. The compiler will accept them but if you do a mistake, you will get an error during program execution:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Weapon</span><span class="p">(</span><span class="s">&quot;Dagger&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">);</span>
<span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(((</span><span class="n">MagicSword</span><span class="p">)</span><span class="w"> </span><span class="n">weapon</span><span class="p">).</span><span class="na">getMagicDamage</span><span class="p">());</span><span class="w">  </span><span class="c1">// oh oh...</span>
</pre></div>
</div>
</section>
<section id="polymorphism">
<h3>Polymorphism<a class="headerlink" href="#polymorphism" title="Permalink to this heading">¶</a></h3>
<p>The three rules make it possible to write code and data structures that can be used with objects of different classes. For example, thanks to rule 1, you can define an array that contains different types of weapons:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Weapon</span><span class="o">[]</span><span class="w"> </span><span class="n">inventory</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Weapon</span><span class="o">[</span><span class="mi">3</span><span class="o">]</span><span class="p">;</span>
<span class="n">inventory</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Weapon</span><span class="p">(</span><span class="s">&quot;Dagger&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span>
<span class="n">inventory</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MagicSword</span><span class="p">(</span><span class="s">&quot;Elven sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
<span class="n">inventory</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ExpensiveWeapon</span><span class="p">(</span><span class="s">&quot;Golden pitchfork&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span>
</pre></div>
</div>
<p>And thanks to rule 2 and 3, you can write methods that work for different types of weapons:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">getPriceOfInventory</span><span class="p">(</span><span class="n">Weapon</span><span class="o">[]</span><span class="w"> </span><span class="n">inventory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">inventory</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">sum</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">weapon</span><span class="p">.</span><span class="na">getPrice</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Although the above method <code class="code docutils literal notranslate"><span class="pre">getPriceOfInventory()</span></code> looks like it is only meant for objects of class <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>, it also works for all subclasses of <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>. This is called <em>Subtype Polymorphism</em>. If you have for example an object of class <code class="code docutils literal notranslate"><span class="pre">ExpensiveWeapon</span></code> in the array, rule 3 will guarantee that <code class="code docutils literal notranslate"><span class="pre">weapon.getPrice()</span></code> will call the method defined in <code class="code docutils literal notranslate"><span class="pre">ExpensiveWeapon</span></code>.</p>
<p>The conclusion is that there is a difference between what the compiler sees in the source code and what actually happens when the program is executed. When the compiler sees a method call like <code class="code docutils literal notranslate"><span class="pre">weapon.getPrice()</span></code> in your source code, it only checks whether the method exists in the declared type of the variable. But during program execution, what is important is which object is actually referenced by the variable. We say that <strong>type checking by the compiler is static</strong>, but <strong>method calls by the JVM are dynamic</strong>.</p>
</section>
<section id="the-class-hierarchy">
<h3>The class hierarchy<a class="headerlink" href="#the-class-hierarchy" title="Permalink to this heading">¶</a></h3>
<p>If we take all the different weapon classes that we created in the previous examples, we get a so-called “class hierarchy” that shows the subclass-superclass relationships between them:</p>
<a class="reference internal image-reference" href="_images/classhierarchyn.svg"><img alt="_images/classhierarchyn.svg" src="_images/classhierarchyn.svg" width="35%" /></a>
<p>The class <code class="code docutils literal notranslate"><span class="pre">Object</span></code> that is above our <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code> class was not defined by us. It is automatically created by Java and is the superclass of <em>all</em> non-primitive types in Java, even of arrays and strings! A variable of type <code class="code docutils literal notranslate"><span class="pre">Object</span></code> therefore can refer to any non-primitive value:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Object</span><span class="w"> </span><span class="n">o</span><span class="p">;</span>
<span class="n">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Hello&quot;</span><span class="p">;</span><span class="w">                                </span><span class="c1">// okay</span>
<span class="n">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">};</span><span class="w">                       </span><span class="c1">// okay, too</span>
<span class="n">o</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MagicSword</span><span class="p">(</span><span class="s">&quot;Elven sword&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">);</span><span class="w">    </span><span class="c1">// still okay!</span>
</pre></div>
</div>
<p>The documentation of <code class="code docutils literal notranslate"><span class="pre">Object</span></code> can be found at <a class="reference external" href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html">https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html</a>.
The class defines several interesting methods that can be used on all objects.
One of them is the <code class="code docutils literal notranslate"><span class="pre">toString()</span></code> method. This method is very useful because it is called by frequently used methods like <code class="code docutils literal notranslate"><span class="pre">String.valueOf()</span></code> and <code class="code docutils literal notranslate"><span class="pre">System.out.println()</span></code> when you call them with an object as parameter. Therefore, if we override this method in our own class, we will get a nice output:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">birthYear</span><span class="p">;</span>

<span class="w">    </span><span class="n">Player</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">birthYear</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">birthYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">birthYear</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">toString</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Player &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; born in &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">birthYear</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Player</span><span class="w"> </span><span class="n">peter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Player</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1993</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">peter</span><span class="p">);</span><span class="w">   </span><span class="c1">// this will call toString() of Player</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The method <code class="code docutils literal notranslate"><span class="pre">toString()</span></code> is declared as <code class="code docutils literal notranslate"><span class="pre">public</span></code> in the class <code class="code docutils literal notranslate"><span class="pre">Object</span></code> and, therefore, when we override it we have to declare it as public, too. We will talk about the meaning of <code class="code docutils literal notranslate"><span class="pre">public</span></code> later.</p>
<p>Another interesting method defined by <code class="code docutils literal notranslate"><span class="pre">Object</span></code> is <code class="code docutils literal notranslate"><span class="pre">equals()</span></code>. We have already learned that we have to use the method <code class="code docutils literal notranslate"><span class="pre">equals()</span></code> when we want to compare the content of two strings because the equality operator <code class="code docutils literal notranslate"><span class="pre">==</span></code> only compares references. This is also recommended for your own objects. However, comparing objects is more difficult than comparing strings. For our class <code class="code docutils literal notranslate"><span class="pre">Player</span></code> shown above, when are two players equal? The Java language cannot answer this question for us, so we have to provide our own implementation of <code class="code docutils literal notranslate"><span class="pre">equals()</span></code>. For example, we could say that two <code class="code docutils literal notranslate"><span class="pre">Player</span></code> objects are equal if they have the same name and the same birth year:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Objects</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">birthYear</span><span class="p">;</span>

<span class="w">    </span><span class="n">Player</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">birthYear</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">birthYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">birthYear</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">    </span><span class="c1">// same object!</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">obj</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="kc">null</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">   </span><span class="c1">// null parameter</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getClass</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">obj</span><span class="p">.</span><span class="na">getClass</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span><span class="w">   </span><span class="c1">// different types</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">        </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">Player</span><span class="w"> </span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">Player</span><span class="p">)</span><span class="w"> </span><span class="n">obj</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">name</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="p">)</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">p</span><span class="p">.</span><span class="na">birthYear</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">birthYear</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">hashCode</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Objects</span><span class="p">.</span><span class="na">hash</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">birthYear</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Player</span><span class="w"> </span><span class="n">peter1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Player</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1993</span><span class="p">);</span>
<span class="w">        </span><span class="n">Player</span><span class="w"> </span><span class="n">peter2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Player</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1993</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">peter1</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="n">peter2</span><span class="p">));</span><span class="w">    </span><span class="c1">// true</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">peter1</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">));</span><span class="w">   </span><span class="c1">// false</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">peter1</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="kc">null</span><span class="p">));</span><span class="w">      </span><span class="c1">// false</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>What’s happening in the above code? One difficulty with <code class="code docutils literal notranslate"><span class="pre">equals()</span></code> is that it can be called with a <code class="code docutils literal notranslate"><span class="pre">null</span></code> argument or with an object that is not an instance of <code class="code docutils literal notranslate"><span class="pre">Player</span></code>.
So, before we can compare the name and the birth year of a <code class="code docutils literal notranslate"><span class="pre">Player</span></code> object with another <code class="code docutils literal notranslate"><span class="pre">Player</span></code> object, we first have to do some tests. One of them is whether the object on which <code class="code docutils literal notranslate"><span class="pre">equals()</span></code> was called (<code class="code docutils literal notranslate"><span class="pre">this</span></code>) and the other object (<code class="code docutils literal notranslate"><span class="pre">obj</span></code>) have the same type:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="na">getClass</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">obj</span><span class="p">.</span><span class="na">getClass</span><span class="p">())</span><span class="w"> </span><span class="p">{</span>
</pre></div>
</div>
<p>If all those tests pass we can finally compare the name and birth year of <code class="code docutils literal notranslate"><span class="pre">this</span></code> and the other Player object.</p>
<p>Note that there are some other difficulties with <code class="code docutils literal notranslate"><span class="pre">equals()</span></code> that we will not discuss here. They are related to the <code class="code docutils literal notranslate"><span class="pre">hashCode()</span></code> method that you have to always override together with <code class="code docutils literal notranslate"><span class="pre">equals()</span></code>, as shown above.</p>
</section>
<section id="arraylist">
<h3>ArrayList<a class="headerlink" href="#arraylist" title="Permalink to this heading">¶</a></h3>
<p>Using the class <code class="code docutils literal notranslate"><span class="pre">Object</span></code> can be useful in situations where we want to write methods that work with all types of objects. For example, we have seen before that a disadvantage of arrays in Java over lists in Python is that arrays cannot change their size. In the package <code class="code docutils literal notranslate"><span class="pre">java.util</span></code>, there is a class <code class="code docutils literal notranslate"><span class="pre">ArrayList</span></code> that can do that:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ArrayList</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span>

<span class="w">        </span><span class="c1">// add two elements to the end of the list</span>
<span class="w">        </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="p">{</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">});</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">size</span><span class="p">()</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// number of elements</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">);</span><span class="w">    </span><span class="c1">// first element</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As you can see in the above example, the method <code class="code docutils literal notranslate"><span class="pre">add()</span></code> of <code class="code docutils literal notranslate"><span class="pre">ArrayList</span></code> accepts any reference (including to arrays and strings) as argument. Very simplified, you can imagine that the <code class="code docutils literal notranslate"><span class="pre">ArrayList</span></code> class looks like this:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArrayList</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// the added elements</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">elements</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// this method adds &quot;obj&quot; to the array</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">Object</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// this method returns the object at position &quot;index&quot;</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="for-loops-on-arraylist">
<h3>For loops on ArrayList<a class="headerlink" href="#for-loops-on-arraylist" title="Permalink to this heading">¶</a></h3>
<p><code class="code docutils literal notranslate"><span class="pre">for</span></code> loops also work on “ArrayList”:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ArrayList</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span>
<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;World&quot;</span><span class="p">);</span>

<span class="c1">// simple for loop</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Object</span><span class="w"> </span><span class="n">obj</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">list</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// complex for loop</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">size</span><span class="p">();</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">list</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="boxing-and-unboxing">
<span id="boxing"></span><h3>Boxing and unboxing<a class="headerlink" href="#boxing-and-unboxing" title="Permalink to this heading">¶</a></h3>
<p>Unfortunately, primitive types are not subclasses of <code class="code docutils literal notranslate"><span class="pre">Object</span></code>. Therefore, we cannot simple add an <code class="code docutils literal notranslate"><span class="pre">int</span></code> value to an ArrayList, at least not without the help of the compiler:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w">  </span><span class="c1">// does that work?</span>
</pre></div>
</div>
<p>One way to solve this problem is to write a new class with the only purpose to store the <code class="code docutils literal notranslate"><span class="pre">int</span></code> value in an object that we can then add to the list:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">IntObject</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>

<span class="w">    </span><span class="n">IntObject</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ArrayList</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span>

<span class="w">        </span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">IntObject</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This trick is called <em>boxing</em> because we put the primitive-type value 3 in a small “box” (the <code class="code docutils literal notranslate"><span class="pre">IntObject</span></code> object). Fortunately, we actually don’t have to write our own class <code class="code docutils literal notranslate"><span class="pre">IntObject</span></code>, because the <code class="code docutils literal notranslate"><span class="pre">java.lang</span></code> package already contains a class that does exactly that:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// Integer is a class defined in the java.lang package</span>
<span class="n">Integer</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">valueOf</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="code docutils literal notranslate"><span class="pre">java.lang</span></code> package also contains equivalent classes <code class="code docutils literal notranslate"><span class="pre">Long</span></code>, <code class="code docutils literal notranslate"><span class="pre">Float</span></code>, etc. for the other primitive types.</p>
<p>Note that boxing is quite cumbersome and it is only needed in Java because primitive types are not subclasses of <code class="code docutils literal notranslate"><span class="pre">Object</span></code>. However, we get a little bit of help from the compiler. In fact, the compiler can do the boxing for you. This is called <strong>autoboxing</strong>. You can just write:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w">  </span><span class="c1">// this automatically calls &quot;Integer.valueOf(3)&quot;</span>
</pre></div>
</div>
<p>Autoboxing is not limited to the <code class="code docutils literal notranslate"><span class="pre">ArrayList</span></code> class. It works for all situations where you assign a primitive-type value to a variable that has a matching class type. The opposite direction, unboxing, is also done automatically by the compiler:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// autoboxing</span>
<span class="c1">// this is identical to:</span>
<span class="c1">//    Integer value = Integer.valueOf(3);</span>
<span class="n">Integer</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span>

<span class="c1">// auto-unboxing</span>
<span class="c1">// this is identical to:</span>
<span class="c1">//    int i = value.intValue();</span>
<span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
</pre></div>
</div>
</section>
<section id="arraylist-and-generics">
<span id="generics"></span><h3>ArrayList and Generics<a class="headerlink" href="#arraylist-and-generics" title="Permalink to this heading">¶</a></h3>
<p>The way <code class="code docutils literal notranslate"><span class="pre">ArrayList</span></code> uses <code class="code docutils literal notranslate"><span class="pre">Object</span></code> to be able to store all kinds of objects has a big disadvantage. Since the <code class="code docutils literal notranslate"><span class="pre">get</span></code> method has the return type <code class="code docutils literal notranslate"><span class="pre">Object</span></code>, we have to do a type cast if we want again the original type of the object that we added to the list:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ArrayList</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="p">();</span>

<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;World&quot;</span><span class="p">);</span>

<span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">((</span><span class="n">String</span><span class="p">)</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">)).</span><span class="na">length</span><span class="p">();</span>
</pre></div>
</div>
<p>Although <em>we</em> know that the list only contains strings, the compiler needs the type cast before we can call the method <code class="code docutils literal notranslate"><span class="pre">length()</span></code>. This is not only cumbersome, but can also lead to errors that only appear when the program is executed.</p>
<p>Fortunately, Java has a feature called <em>Generics</em> that allows us to simplify the above code as follows:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">();</span>

<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="n">list</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="s">&quot;World&quot;</span><span class="p">);</span>

<span class="kt">int</span><span class="w"> </span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="na">get</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="na">length</span><span class="p">();</span>
</pre></div>
</div>
<p>The syntax <code class="code docutils literal notranslate"><span class="pre">ArrayList&lt;String&gt;</span></code> tells the compiler that the <code class="code docutils literal notranslate"><span class="pre">add()</span></code> method of our list will only accept <code class="docutils literal notranslate"><span class="pre">String</span></code> objects as arguments and that the <code class="code docutils literal notranslate"><span class="pre">get()</span></code> method will only return <code class="docutils literal notranslate"><span class="pre">String</span></code> objects. In that way, the type cast is not needed anymore (actually, the type cast is still done but you don’t see it because the compiler automatically adds it in the class file).</p>
<p>You will see more examples of <em>Generics</em> later in this book. To give you a first taste, let’s see what the <code class="code docutils literal notranslate"><span class="pre">ArrayList</span></code> class looks like in reality:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ArrayList</span><span class="o">&lt;</span><span class="n">E</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span><span class="w">    </span><span class="c1">// type parameter E</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Object</span><span class="o">[]</span><span class="w"> </span><span class="n">elements</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">add</span><span class="p">(</span><span class="n">E</span><span class="w"> </span><span class="n">obj</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="nf">get</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="c1">// ...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="code docutils literal notranslate"><span class="pre">E</span></code> that you can see in the first line and in the method definitions is a <em>type parameter</em>. It represents the type of the element that we want to store in the list. By creating our list with</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="w"> </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="p">();</span>
</pre></div>
</div>
<p>we are telling the compiler that it should assume that <code class="code docutils literal notranslate"><span class="pre">E</span> <span class="pre">=</span> <span class="pre">String</span></code>, and accordingly the methods <code class="code docutils literal notranslate"><span class="pre">add()</span></code> and <code class="code docutils literal notranslate"><span class="pre">get()</span></code> will be understood as <code class="code docutils literal notranslate"><span class="pre">void</span> <span class="pre">add(String</span> <span class="pre">obj)</span></code> and <code class="code docutils literal notranslate"><span class="pre">String</span> <span class="pre">get(int</span> <span class="pre">index)</span></code>.</p>
</section>
<section id="method-overloading-with-different-parameters">
<h3>Method overloading with different parameters<a class="headerlink" href="#method-overloading-with-different-parameters" title="Permalink to this heading">¶</a></h3>
<p>In Java, it is allowed to have two methods with the same name as long as they have different parameters. This is called <em>method overloading</em>. Here is an example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">birthYear</span><span class="p">;</span>

<span class="w">    </span><span class="n">Player</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">birthYear</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">birthYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">birthYear</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">set</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">set</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">birthYear</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">birthYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">birthYear</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If we call the <code class="code docutils literal notranslate"><span class="pre">set()</span></code> method, the Java compiler knows which of the two methods you wanted to call by looking at the parameters:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="s">&quot;Peter&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1993</span><span class="p">);</span>
<span class="n">person</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="s">&quot;Pierre&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1993</span><span class="p">);</span><span class="w">     </span><span class="c1">// this is the set method with parameters String and int</span>
</pre></div>
</div>
</section>
<section id="overloading-with-subclass-parameters">
<h3>Overloading with subclass parameters<a class="headerlink" href="#overloading-with-subclass-parameters" title="Permalink to this heading">¶</a></h3>
<p>You have to be careful when you write overloaded methods where the parameters are classes and subclasses. Here is a minimal example of a <code class="code docutils literal notranslate"><span class="pre">Player</span></code> class with such an overloaded method:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MightySword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">power</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">giveWeapon</span><span class="p">(</span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weapon</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">giveWeapon</span><span class="p">(</span><span class="n">MightySword</span><span class="w"> </span><span class="n">weapon</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weapon</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">   </span><span class="c1">// a Mighty Sword increases the power of the player</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Player</span><span class="p">();</span>

<span class="w">        </span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MightySword</span><span class="p">();</span>
<span class="w">        </span><span class="n">player</span><span class="p">.</span><span class="na">giveWeapon</span><span class="p">(</span><span class="n">weapon</span><span class="p">);</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="na">power</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>What will <code class="code docutils literal notranslate"><span class="pre">System.out.println(player.power)</span></code> print after we gave a Mighty Sword to the player?</p>
<p>Surprisingly, it will print <code class="docutils literal notranslate"><span class="pre">0</span></code>. The method <code class="code docutils literal notranslate"><span class="pre">void</span> <span class="pre">giveWeapon(MightySword</span> <span class="pre">weapon)</span></code> is <strong>not</strong> called although we called <code class="code docutils literal notranslate"><span class="pre">giveWeapon()</span></code> with a <code class="docutils literal notranslate"><span class="pre">MightySword</span></code> object! The explanation for this is that the Java compiler only looks at the type of the variable <em>as declared in the source code</em> when deciding which method to call. In our example, the type of the variable <code class="code docutils literal notranslate"><span class="pre">weapon</span></code> is <code class="code docutils literal notranslate"><span class="pre">Weapon</span></code>, therefore the method <code class="code docutils literal notranslate"><span class="pre">void</span> <span class="pre">giveWeapon(Weapon</span> <span class="pre">weapon)</span></code> is called. The compiler cannot know that the variable will contain a reference to a <code class="docutils literal notranslate"><span class="pre">MightySword</span></code> object during program execution.</p>
<p>Lesson learned: <strong>Method calls in Java are only dynamically decided for the object on which the method is called (remember rule 3!). They are not dynamic for the arguments of the method.</strong></p>
<p>The correct way to call <code class="code docutils literal notranslate"><span class="pre">giveWeapon()</span></code> for Mighty Swords is:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">MightySword</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MightySword</span><span class="p">();</span>
<span class="n">player</span><span class="p">.</span><span class="na">giveWeapon</span><span class="p">(</span><span class="n">weapon</span><span class="p">);</span>
</pre></div>
</div>
<p>or just:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="n">player</span><span class="p">.</span><span class="na">giveWeapon</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MightySword</span><span class="p">());</span>
</pre></div>
</div>
</section>
<section id="overloading-with-closest-match">
<h3>Overloading with closest match<a class="headerlink" href="#overloading-with-closest-match" title="Permalink to this heading">¶</a></h3>
<p>What happens if we call an overloaded method but there is no version of the method that exactly matches the type of the argument? Here is the same example as above, but with a third class <code class="code docutils literal notranslate"><span class="pre">MagicSword</span></code> that is a subclass of <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MightySword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MagicSword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">MightySword</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// ...</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Player</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="p">;</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">power</span><span class="p">;</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">giveWeapon</span><span class="p">(</span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weapon</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">giveWeapon</span><span class="p">(</span><span class="n">MightySword</span><span class="w"> </span><span class="n">weapon</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">weapon</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">power</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Player</span><span class="w"> </span><span class="n">player</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Player</span><span class="p">();</span>

<span class="w">        </span><span class="n">player</span><span class="p">.</span><span class="na">giveWeapon</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">MagicSword</span><span class="p">());</span>

<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="na">power</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Which one of the two <code class="code docutils literal notranslate"><span class="pre">giveWeapon()</span></code> will be called if the argument is a <code class="code docutils literal notranslate"><span class="pre">MagicSword</span></code> object? In this situation, the compiler will choose the method with the closest type to <code class="code docutils literal notranslate"><span class="pre">MagicSword</span></code>, that is <code class="code docutils literal notranslate"><span class="pre">void</span> <span class="pre">giveWeapon(MightySword</span> <span class="pre">weapon)</span></code>.</p>
</section>
<section id="multiple-inheritance">
<span id="id2"></span><h3>Multiple Inheritance<a class="headerlink" href="#multiple-inheritance" title="Permalink to this heading">¶</a></h3>
<p>If we look back at our examples with the Weapon subclasses <code class="code docutils literal notranslate"><span class="pre">ExpensiveWeapon</span></code> and <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>, we might be tempted to create a new class <code class="code docutils literal notranslate"><span class="pre">ExpensiveMightySword</span></code> that inherits from both subclasses:</p>
<a class="reference internal image-reference" href="_images/multi_inheritancen.svg"><img alt="_images/multi_inheritancen.svg" src="_images/multi_inheritancen.svg" width="35%" /></a>
<p>Unfortunately, inheriting from two (or more) classes is <strong>not allowed</strong> in Java. The reason for this is the <em>diamond problem</em> that occurs when a class inherits from two classes that are subclasses of the same class (the problem is named after the diamond shape of the resulting class hierarchy). The following illegal Java program illustrates the problem:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>

<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getPrice</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ExpensiveWeapon</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getPrice</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1000</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">MightySword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Weapon</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="nf">getPrice</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">500</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">level</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Not allowed in Java!</span>
<span class="c1">// You cannot extend TWO classes.</span>
<span class="kd">class</span> <span class="nc">ExpensiveMightySword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ExpensiveWeapon</span><span class="p">,</span><span class="w"> </span><span class="n">MightySword</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Weapon</span><span class="w"> </span><span class="n">weapon</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ExpensiveMightySword</span><span class="p">();</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">weapon</span><span class="p">.</span><span class="na">getPrice</span><span class="p">());</span><span class="w">        </span><span class="c1">// ???</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Which <code class="code docutils literal notranslate"><span class="pre">getPrice</span></code> implementation should be called in the <code class="code docutils literal notranslate"><span class="pre">println()</span></code> statement? The one from <code class="code docutils literal notranslate"><span class="pre">ExpensiveWeapon</span></code> or the one from <code class="code docutils literal notranslate"><span class="pre">MightySword</span></code>? Because it is not clear in this situation what the programmer wanted, multiple inheritance is forbidden in Java. Other programming languages allow multiple inheritance under specific circumstances, or have additional rules to decide which method to call. For example, the C# language would require for our example that the <code class="code docutils literal notranslate"><span class="pre">ExpensiveMightySword</span></code> class overrides the <code class="code docutils literal notranslate"><span class="pre">getPrice()</span></code> method. In Python, the <code class="code docutils literal notranslate"><span class="pre">getPrice()</span></code> method of the <code class="code docutils literal notranslate"><span class="pre">ExpensiveWeapon</span></code> class would be called because that class appears first in the line</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">ExpensiveMightySword</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">ExpensiveWeapon</span><span class="p">,</span><span class="w"> </span><span class="n">MightySword</span><span class="w"> </span><span class="p">{</span>
</pre></div>
</div>
<p>If you want to know more about how other programming languages handle multiple inheritance and the diamond problem, you can check <a class="reference external" href="https://en.wikipedia.org/wiki/Multiple_inheritance">https://en.wikipedia.org/wiki/Multiple_inheritance</a>.</p>
<p>However, Java has another concept, the <code class="code docutils literal notranslate"><span class="pre">interface</span></code>, which can be used as a substitute for multiple inheritance in many situations. You will learn more about interfaces later.</p>
</section>
<section id="the-final-keyword">
<span id="final-keyword"></span><h3>The final keyword<a class="headerlink" href="#the-final-keyword" title="Permalink to this heading">¶</a></h3>
<p>Like the <code class="code docutils literal notranslate"><span class="pre">private</span></code> keyword, the <code class="code docutils literal notranslate"><span class="pre">final</span></code> keyword does not change the behavior of your program. Its job is to prevent you from making mistakes in your code (you will later see other situations where the <code class="code docutils literal notranslate"><span class="pre">final</span></code> keyword is important).</p>
<p>Its meaning depends on where you use it.</p>
</section>
<section id="final-parameter-variables">
<h3>Final parameter variables<a class="headerlink" href="#final-parameter-variables" title="Permalink to this heading">¶</a></h3>
<p>If you declare a parameter variable as <code class="docutils literal notranslate"><span class="pre">final</span></code>, its value cannot be changed inside the method. This prevents accidents like the following:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="c1">// calculate the sum of the numbers 1 to n</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">calculateSum</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">){</span><span class="w">   </span><span class="c1">// &lt;--- did you see the &quot;final&quot; ?</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">n</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">      </span><span class="c1">// oops, I wanted to write sum += i</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In the above example, the statement <code class="code docutils literal notranslate"><span class="pre">n+=i</span></code> will not be accepted by the compiler because the parameter <code class="code docutils literal notranslate"><span class="pre">n</span></code> was declared as <code class="docutils literal notranslate"><span class="pre">final</span></code>.</p>
<p>Note that if a variable contains a reference to an array or an object, declaring it as <code class="docutils literal notranslate"><span class="pre">final</span></code> does not prevent the contents of the array or object from being changed. This is also true for the other usages of <code class="code docutils literal notranslate"><span class="pre">final</span></code> explained in the next sections. Here is an example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">increment</span><span class="p">(</span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="o">[]</span><span class="w"> </span><span class="n">a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">a</span><span class="o">[</span><span class="mi">0</span><span class="o">]++</span><span class="p">;</span><span class="w">         </span><span class="c1">// this still works</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="final-local-variables">
<h3>Final local variables<a class="headerlink" href="#final-local-variables" title="Permalink to this heading">¶</a></h3>
<p>Local variables declared as <code class="docutils literal notranslate"><span class="pre">final</span></code> cannot change their value after they have been initialized. The following code will not be accepted by the compiler:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kt">int</span><span class="w"> </span><span class="nf">calculateSumSquare</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="p">;</span><span class="w">       </span><span class="c1">// &lt;--- did you see the &quot;final&quot; ?</span>
<span class="w">    </span><span class="kt">int</span><span class="w"> </span><span class="n">sum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">n2</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">n2</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">      </span><span class="c1">// oops, I wanted to write sum += i</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">sum</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="final-methods">
<h3>Final methods<a class="headerlink" href="#final-methods" title="Permalink to this heading">¶</a></h3>
<p>Methods declared as <code class="docutils literal notranslate"><span class="pre">final</span></code> cannot be overridden in a subclass. Declaring a method as <code class="docutils literal notranslate"><span class="pre">final</span></code> is useful in situations where you think that the method contains important code and you fear that a subclass could break the class by overriding it. The following code will not be accepted by the compiler:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">firstname</span><span class="p">;</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getFullName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">firstname</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">Employee</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="n">String</span><span class="w"> </span><span class="nf">getFullName</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">      </span><span class="c1">// not allowed. Method is &quot;final&quot; in &quot;Person&quot; class</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;Wolverine&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>However, you should think carefully about whether you should declare a method as <code class="docutils literal notranslate"><span class="pre">final</span></code>, as this would drastically limit the flexibility of subclasses.</p>
</section>
<section id="final-classes">
<h3>Final classes<a class="headerlink" href="#final-classes" title="Permalink to this heading">¶</a></h3>
<p>Classes declared as <code class="docutils literal notranslate"><span class="pre">final</span></code> cannot be subclassed. The motivation to do this is similar to <code class="docutils literal notranslate"><span class="pre">final</span></code> methods.
For example, the <code class="code docutils literal notranslate"><span class="pre">String</span></code> class is final because all Java programs rely on its specific behavior as described in the documentation. Creating a subclass of it would cause a lot of problems.</p>
</section>
<section id="final-class-variables">
<h3>Final class variables<a class="headerlink" href="#final-class-variables" title="Permalink to this heading">¶</a></h3>
<p>Like <code class="docutils literal notranslate"><span class="pre">final</span></code> local variables, class variables declared as <code class="docutils literal notranslate"><span class="pre">final</span></code> cannot be changed after initialization. A typical use case is the declaration of a constant. Here is an example:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Physics</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">static</span><span class="w"> </span><span class="kd">final</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">SPEED_OF_LIGHT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">299792458</span><span class="p">;</span><span class="w"> </span><span class="c1">//  meters per second</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The naming convention in Java recommends writing the names of constants in capital letters.</p>
</section>
<section id="final-instance-variables">
<h3>Final instance variables<a class="headerlink" href="#final-instance-variables" title="Permalink to this heading">¶</a></h3>
<p>Instance variables declared as <code class="docutils literal notranslate"><span class="pre">final</span></code> cannot be changed after initialization. However, unlike class variables, you will usually initialize them in the constructor. The following code demonstrates this:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">socialSecurityNumber</span><span class="p">;</span>

<span class="w">    </span><span class="n">Person</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">ssn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">socialSecurityNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ssn</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="s">&quot;123-456-789&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">person</span><span class="p">.</span><span class="na">socialSecurityNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;12&quot;</span><span class="p">;</span><span class="w">        </span><span class="c1">// error!</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>An important reason to declare an instance variable as <code class="docutils literal notranslate"><span class="pre">final</span></code> is when it is part of the “identity” of an object, i.e., something that should never change once the object has been created.</p>
<p>Note that a variable that cannot be modified after initialization can be also achieved without declaring it as <code class="docutils literal notranslate"><span class="pre">final</span></code>. In the above example, we could implement the immutable social security number also like this:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">socialSecurityNumber</span><span class="p">;</span>

<span class="w">    </span><span class="n">Person</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">ssn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">socialSecurityNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ssn</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">getSSN</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">  </span><span class="c1">// &quot;final&quot; prevents overriding</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">socialSecurityNumber</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="packages">
<span id="id3"></span><h3>Packages<a class="headerlink" href="#packages" title="Permalink to this heading">¶</a></h3>
<p>In all our small examples so far, we have put all classes in one single <code class="docutils literal notranslate"><span class="pre">.java</span></code> file. This is not very practical in larger projects consisting of dozens or hundreds of classes.</p>
<p><strong>The general rule (or recommendation) in Java is that you should put each class in a separate .java file with the same name as the class.</strong></p>
<p>In addition, Java allows you to group classes into <em>packages</em> by writing a package statement in the first line of your <code class="docutils literal notranslate"><span class="pre">.java</span></code> file. For example, the following two <code class="docutils literal notranslate"><span class="pre">.java</span></code> files define two classes that are in the package <code class="code docutils literal notranslate"><span class="pre">lepl402.week3</span></code>:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// **********************************</span>
<span class="c1">// ****     File Person.java     ****</span>
<span class="c1">// **********************************</span>

<span class="kn">package</span><span class="w"> </span><span class="nn">lepl1402.week3</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">socialSecurityNumber</span><span class="p">;</span>

<span class="w">    </span><span class="n">Person</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">ssn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">socialSecurityNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ssn</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// **********************************</span>
<span class="c1">// ****      File Main.java      ****</span>
<span class="c1">// **********************************</span>

<span class="kn">package</span><span class="w"> </span><span class="nn">lepl1402.week3</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="s">&quot;123-456-789&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If you put your classes into packages, the Java compiler expects that you organize the source code files in your project in a directory structure that corresponds to the package names. In our example with the package <code class="code docutils literal notranslate"><span class="pre">lepl402.week3</span></code>, the .java files <strong>must</strong> be put in a directory <code class="docutils literal notranslate"><span class="pre">week3</span></code> inside a directory <code class="docutils literal notranslate"><span class="pre">lepl402</span></code> in the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory of your project. Here is what IntelliJ shows for the above project:</p>
<a class="reference internal image-reference" href="_images/project_with_packages.png"><img alt="_images/project_with_packages.png" src="_images/project_with_packages.png" style="width: 40%;" /></a>
<p>And here is how the directory structure of the project looks like in the file browser of Microsoft Windows:</p>
<a class="reference internal image-reference" href="_images/package_directories.png"><img alt="_images/package_directories.png" src="_images/package_directories.png" style="width: 60%;" /></a>
<p>If you do not write a <code class="code docutils literal notranslate"><span class="pre">package</span></code> statement in your <code class="docutils literal notranslate"><span class="pre">.java</span></code> file (that’s what we always did so far in our examples), the compiler puts your classes in the <em>unnamed package</em>. In that case, you don’t need a special directory structure and you can put all your files directly into the <code class="docutils literal notranslate"><span class="pre">src</span></code> directory.</p>
</section>
<section id="how-to-use-multiple-packages">
<h3>How to use multiple packages<a class="headerlink" href="#how-to-use-multiple-packages" title="Permalink to this heading">¶</a></h3>
<p>In Java, packages are independent of each other. Classes that are in the same package can be used together, as shown in the example in the previous section with the <code class="code docutils literal notranslate"><span class="pre">Person</span></code> class and the <code class="code docutils literal notranslate"><span class="pre">Main</span></code> class.</p>
<p>However, classes that are in <em>different</em> packages do not “see” each other by default. For example, if we put the class <code class="code docutils literal notranslate"><span class="pre">Person</span></code> into the package <code class="code docutils literal notranslate"><span class="pre">lepl1402.week3.example</span></code> and we keep the class <code class="code docutils literal notranslate"><span class="pre">Main</span></code> in the package <code class="code docutils literal notranslate"><span class="pre">lepl402.week3</span></code>, we have to change our code:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// **********************************</span>
<span class="c1">// ****     File Person.java     ****</span>
<span class="c1">// **********************************</span>

<span class="kn">package</span><span class="w"> </span><span class="nn">lepl1402.week3.example</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Person</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">socialSecurityNumber</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Person</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">ssn</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">socialSecurityNumber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ssn</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// **********************************</span>
<span class="c1">// ****      File Main.java      ****</span>
<span class="c1">// **********************************</span>

<span class="kn">package</span><span class="w"> </span><span class="nn">lepl1402.week3</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">lepl1402.week3.example.Person</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Person</span><span class="w"> </span><span class="n">person</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Person</span><span class="p">(</span><span class="s">&quot;123-456-789&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In our example, we have made three modifications:</p>
<ol class="arabic simple">
<li><p>We have declared the class <code class="code docutils literal notranslate"><span class="pre">Person</span></code> as <code class="code docutils literal notranslate"><span class="pre">public</span></code>. Only classes that are public can be used by classes in other packages! If a class is not declared as public, it can only be used by classes of the same package.</p></li>
<li><p>We have declared the constructor method of <code class="code docutils literal notranslate"><span class="pre">Person</span></code> as <code class="code docutils literal notranslate"><span class="pre">public</span></code>. Again, only public methods can be used by classes in other packages.</p></li>
<li><p>We have added an <code class="code docutils literal notranslate"><span class="pre">import</span></code> statement to our file <code class="docutils literal notranslate"><span class="pre">Main.java</span></code> file. This statement tells the compiler (and the JVM) in which package the class <code class="code docutils literal notranslate"><span class="pre">Person</span></code> is located that the <code class="code docutils literal notranslate"><span class="pre">Main</span> <span class="pre">class</span></code> wants to use. The identifier <code class="code docutils literal notranslate"><span class="pre">lepl1402.week3.example.Person</span></code> is called the <em>fully qualified name</em> of the class <code class="code docutils literal notranslate"><span class="pre">Person</span></code>.</p></li>
</ol>
<p>As an alternative to the <code class="docutils literal notranslate"><span class="pre">import</span></code> statement, you could directly use the fully qualified name of the <code class="code docutils literal notranslate"><span class="pre">Person</span></code> class in the main method, but this makes the code a bit harder to read:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// **********************************</span>
<span class="c1">// ****      File Main.java      ****</span>
<span class="c1">// **********************************</span>

<span class="kn">package</span><span class="w"> </span><span class="nn">lepl1402.week3</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">lepl1402</span><span class="p">.</span><span class="na">week3</span><span class="p">.</span><span class="na">example</span><span class="p">.</span><span class="na">Person</span><span class="w"> </span><span class="n">person</span>
<span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">lepl1402</span><span class="p">.</span><span class="na">week3</span><span class="p">.</span><span class="na">example</span><span class="p">.</span><span class="na">Person</span><span class="p">(</span><span class="s">&quot;123-456-789&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="why-are-packages-useful">
<h3>Why are packages useful?<a class="headerlink" href="#why-are-packages-useful" title="Permalink to this heading">¶</a></h3>
<p>Packages have two advantages. First of all, with the <code class="code docutils literal notranslate"><span class="pre">public</span></code> keyword, you can control for each class and each method in your package whether it can be used by classes in other packages. For example, we have already talked several times about the <code class="code docutils literal notranslate"><span class="pre">java.lang</span></code> package that contains useful classes such as <code class="code docutils literal notranslate"><span class="pre">String</span></code> or <code class="code docutils literal notranslate"><span class="pre">Integer</span></code>. Those classes are declared as public, so everybody can use them. However, that package also contains classes like <code class="code docutils literal notranslate"><span class="pre">CharacterData0E</span></code> that are only used internally by some classes in <code class="code docutils literal notranslate"><span class="pre">java.lang</span></code> and that are therefore <em>not</em> declared as public.</p>
<p>The second advantage of packages is that they provide separate <em>namespaces</em>. This means that a package X and a package Y can both contain a class named <code class="docutils literal notranslate"><span class="pre">ABC</span></code>. By using the fully classified names (or an <code class="docutils literal notranslate"><span class="pre">import</span></code> statement), we can exactly tell the compiler whether we want to use class <code class="code docutils literal notranslate"><span class="pre">X.ABC</span></code> or class <code class="code docutils literal notranslate"><span class="pre">Y.ABC</span></code>. This becomes important when you write larger applications and you want to use packages written by other people. Thanks to the different packages, you don’t have to worry about classes with identical names.</p>
</section>
<section id="access-control">
<span id="visibility"></span><h3>Access control<a class="headerlink" href="#access-control" title="Permalink to this heading">¶</a></h3>
<p>First, let’s summarize what we have learned about the visibility of classes in packages:</p>
<ol class="arabic simple">
<li><p>Classes that are declared as <code class="code docutils literal notranslate"><span class="pre">public</span></code> are visible in all packages.</p></li>
<li><p>Non-public classes are only visible inside their own package.</p></li>
</ol>
<p>For class members (i.e., static and non-static methods, class variables, and instance variables), the rules are more complicated:</p>
<ol class="arabic simple">
<li><p>Members that are declared as <code class="code docutils literal notranslate"><span class="pre">public</span></code> are accessible from all packages.</p></li>
<li><p>Members that are declared as <code class="code docutils literal notranslate"><span class="pre">private</span></code> are only accessible inside their class.</p></li>
<li><p>Members that are declared as <code class="code docutils literal notranslate"><span class="pre">protected</span></code> are only accessible inside their class and in subclasses of that class.</p></li>
<li><p>Members that have no special declaration are accessible inside the class and by all classes in the same package.</p></li>
</ol>
</section>
</section>
<section id="abstract-classes">
<span id="id4"></span><h2>Abstract classes<a class="headerlink" href="#abstract-classes" title="Permalink to this heading">¶</a></h2>
<p>An abstract class in Java is a class that cannot be instantiated on its own and is intended to be a parent class.
Abstract classes are used when you want to provide a common base for different subclasses but do not want this base class to be instantiated on its own.
They can contain both fully implemented (concrete) methods and abstract methods (methods without a body).</p>
<p>Imagine we are designing a geometric drawing program that incorporates scientific computations, such as calculating the area of various shapes.
In this program, the formula for computing the area will be dependent on the specific shape, but there will also be common functionalities.
For instance, each shape should have the capability to print information about itself.
Additionally, the program is designed to allow users to define their own shapes.</p>
<p>Our design objective is to adhere to the crucial “Open/Closed Principle” (OCP) of object-oriented programming.
This principle advocates that software entities (such as classes, modules, and functions) should be open for extension but closed for modification.
This approach ensures that our program can grow and adapt over time without necessitating alterations to the existing, stable parts of the code.</p>
<p>Abstract classes become immensely valuable in this context.
We can encapsulate all the common functionalities for handling the various geometric shapes into an abstract class, thereby avoiding code duplication.
This abstract class will define methods that are common across all shapes, such as a method to print information about the shape.
However, for specific functionalities that vary from one shape to another, such as the computation of area, we leave the method abstract.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">protected</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">shapeName</span><span class="p">;</span><span class="w"> </span><span class="c1">// Instance variable to hold the name of the shape</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Shape</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">shapeName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">name</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// Abstract method to calculate the area of the shape</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">abstract</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateArea</span><span class="p">();</span>

<span class="w">    </span><span class="c1">// A concrete method implemented in the abstract class</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">displayShapeInfo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;The &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">shapeName</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s">&quot; has an area of: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">calculateArea</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>With this design, introducing new shapes into the program is straightforward and does not require to change the structure of existing code.
We simply add new subclasses for the new shapes.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Circle</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Circle</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">radius</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="s">&quot;Circle&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">radius</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">radius</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateArea</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Math</span><span class="p">.</span><span class="na">PI</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">radius</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">radius</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Rectangle</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Rectangle</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">length</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">width</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="s">&quot;Rectangle&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">length</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">length</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateArea</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">length</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">width</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Triangle</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Shape</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">base</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Triangle</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">height</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">super</span><span class="p">(</span><span class="s">&quot;Triangle&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">base</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">base</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateArea</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mf">0.5</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">base</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">height</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To compute the total area of all shapes in an array, we can create a static method that takes an array of <code class="docutils literal notranslate"><span class="pre">Shape</span></code> objects as its parameter.
This method will iterate on it, invoking the <code class="docutils literal notranslate"><span class="pre">calculateArea()</span></code> method on each <code class="docutils literal notranslate"><span class="pre">Shape</span></code> object, and accumulate the total area.
This static method remains valid even if you introduce later a new shape in your library.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">class</span> <span class="nc">ShapeUtils</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="c1">// Static method to compute the total area of an array of shapes</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nf">calculateTotalArea</span><span class="p">(</span><span class="n">Shape</span><span class="o">[]</span><span class="w"> </span><span class="n">shapes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">totalArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>

<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Shape</span><span class="w"> </span><span class="n">shape</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">shapes</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">totalArea</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">shape</span><span class="p">.</span><span class="na">calculateArea</span><span class="p">();</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">totalArea</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Shape</span><span class="o">[]</span><span class="w"> </span><span class="n">shapes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="k">new</span><span class="w"> </span><span class="n">Circle</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Rectangle</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Triangle</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)};</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">totalArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">calculateTotalArea</span><span class="p">(</span><span class="n">shapes</span><span class="p">);</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Total Area: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">totalArea</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="interfaces">
<span id="id5"></span><h2>Interfaces<a class="headerlink" href="#interfaces" title="Permalink to this heading">¶</a></h2>
<p>An interface in Java is a class that is completely abstract. In other words, none of its methods has a concrete implementation. Interfaces are used to group related methods with empty bodies.
Interfaces specify what a class must do, but not how it does it.</p>
<p>One advantage of interfaces over abstract classes is the ability of a class to implement multiple interfaces.
Remember that Java doesn’t allow to <a class="reference internal" href="#multiple-inheritance"><span class="std std-ref">extend multiple classes</span></a>.</p>
<p>Therefore interfaces promote a higher degree of flexibility and modularity in software design than abstract classes, but they don’t often the same facility in terms of factorization of the code.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">Camera</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">takePhoto</span><span class="p">();</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">recordVideo</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">MediaPlayer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">playAudio</span><span class="p">();</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">playVideo</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Smartphone</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Camera</span><span class="p">,</span><span class="w"> </span><span class="n">MediaPlayer</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">takePhoto</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Taking a photo&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">recordVideo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Recording video&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">playAudio</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Playing audio&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">playVideo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;Playing video&quot;</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="delegation">
<span id="delegation-comparator"></span><h2>Delegation<a class="headerlink" href="#delegation" title="Permalink to this heading">¶</a></h2>
<p>Let us consider the <code class="docutils literal notranslate"><span class="pre">Book</span></code> class below:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Book</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">publicationYear</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Book</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">author</span><span class="p">;</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">publicationYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">year</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ... getters, setters, and other methods ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We aim to sort a collection of <code class="docutils literal notranslate"><span class="pre">Book</span></code> objects based on their titles in lexicographic order.
This can be done by implementing the <code class="docutils literal notranslate"><span class="pre">Comparable</span></code> interface that requires to define the <code class="docutils literal notranslate"><span class="pre">compareTo()</span></code> method.
The <code class="docutils literal notranslate"><span class="pre">compareTo()</span></code> method, when implemented within the <code class="docutils literal notranslate"><span class="pre">Book</span></code> class, leverages the inherent <code class="docutils literal notranslate"><span class="pre">compareTo()</span></code> method of the <code class="docutils literal notranslate"><span class="pre">String</span></code> class.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Collections</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Book</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="p">;</span>
<span class="w">        </span><span class="kd">final</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">publicationYear</span><span class="p">;</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="nf">Book</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">title</span><span class="p">,</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">author</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">year</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">title</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">author</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">author</span><span class="p">;</span>
<span class="w">            </span><span class="k">this</span><span class="p">.</span><span class="na">publicationYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">year</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compareTo</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">other</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="na">title</span><span class="p">.</span><span class="na">compareTo</span><span class="p">(</span><span class="n">other</span><span class="p">.</span><span class="na">title</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;The Great Gatsby&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;F. Scott Fitzgerald&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1925</span><span class="p">));</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;Moby Dick&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Herman Melville&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1851</span><span class="p">));</span>
<span class="w">            </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1984&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;George Orwell&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1949</span><span class="p">));</span>

<span class="w">            </span><span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">books</span><span class="p">);</span><span class="w">  </span><span class="c1">// Sorts by title due to the implemented Comparable</span>

<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">book</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">books</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">book</span><span class="p">.</span><span class="na">getTitle</span><span class="p">());</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
</pre></div>
</div>
<p>Imagine that the books are displayed on a website, allowing visitors to browse through an extensive catalog.
To enhance user experience, the website provides a feature to sort the books not just by their titles, but also by other attributes: the author’s name or the publication year.</p>
<p>Now, the challenge arises: Our current <code class="docutils literal notranslate"><span class="pre">Book</span></code> class design uses the <code class="docutils literal notranslate"><span class="pre">Comparable</span></code> interface to determine the natural ordering of books based solely on their titles. While this design works perfectly for sorting by title, it becomes restrictive when we want to provide multiple sorting criteria (for instance, sorting by author or publication year). Since the <code class="docutils literal notranslate"><span class="pre">Comparable</span></code> interface mandates a single <code class="docutils literal notranslate"><span class="pre">compareTo()</span></code> method, it implies that there’s only one “natural” way to sort the objects of a class. This design decision binds us to sorting by title and makes it less straightforward to introduce additional sorting methods for other attributes.</p>
<p>A general important principle of object-oriented design is the <a class="reference internal" href="#abstract-classes"><span class="std std-ref">Open/Closed Principle (OCP)</span></a>: A software module (like a class or method) should be open for extension but closed for modification:</p>
<ol class="arabic simple">
<li><p>Open for Extension: This means that the behavior of the module can be extended or changed as the requirements of the application evolve or new functionalities are introduced.</p></li>
<li><p>Closed for Modification: Once the module is developed, it should not be modified to add new behavior or features. Any new functionality should be added by extending the module, not by making modifications to the existing code.</p></li>
</ol>
<p>The so-called <em>Delegate Design Pattern</em> can help us improve our design and is a nice example of the OCP.
In the example of <code class="docutils literal notranslate"><span class="pre">Book</span></code>, delegation occurs when the sorting algorithm (within <code class="docutils literal notranslate"><span class="pre">Collections.sort()</span></code>) calls the <code class="docutils literal notranslate"><span class="pre">compare()</span></code> method of the provided <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> object.
The responsibility of defining how two <code class="docutils literal notranslate"><span class="pre">Book</span></code> objects compare is delegated to the <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> object, allowing for flexibility in sorting criteria without modifying the <code class="docutils literal notranslate"><span class="pre">Book</span></code> class or the sorting algorithm itself.</p>
<p>This delegation approach with <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> has a clear advantage over inheritance because you can define countless sorting criteria without needing to modify or subclass the original <code class="docutils literal notranslate"><span class="pre">Book</span></code> class.</p>
<p>Here are the three <code class="docutils literal notranslate"><span class="pre">Comparator</span></code> classes, one for each sorting criterion:</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Comparator</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">TitleComparator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="n">b2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">b1</span><span class="p">.</span><span class="na">getTitle</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">b2</span><span class="p">.</span><span class="na">getTitle</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AuthorComparator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="n">b2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">b1</span><span class="p">.</span><span class="na">getAuthor</span><span class="p">().</span><span class="na">compareTo</span><span class="p">(</span><span class="n">b2</span><span class="p">.</span><span class="na">getAuthor</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">YearComparator</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">Comparator</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">compare</span><span class="p">(</span><span class="n">Book</span><span class="w"> </span><span class="n">b1</span><span class="p">,</span><span class="w"> </span><span class="n">Book</span><span class="w"> </span><span class="n">b2</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">Integer</span><span class="p">.</span><span class="na">compare</span><span class="p">(</span><span class="n">b1</span><span class="p">.</span><span class="na">getPublicationYear</span><span class="p">(),</span><span class="w"> </span><span class="n">b2</span><span class="p">.</span><span class="na">getPublicationYear</span><span class="p">());</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As next example shows, we can now sort by title, author or publication year by just providing the corresponding comparator to the sorting algorithm.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.Collections</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">Main</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">List</span><span class="o">&lt;</span><span class="n">Book</span><span class="o">&gt;</span><span class="w"> </span><span class="n">books</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">        </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;The Great Gatsby&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;F. Scott Fitzgerald&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1925</span><span class="p">));</span>
<span class="w">        </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;Moby Dick&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Herman Melville&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1851</span><span class="p">));</span>
<span class="w">        </span><span class="n">books</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Book</span><span class="p">(</span><span class="s">&quot;1984&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;George Orwell&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1949</span><span class="p">));</span>

<span class="w">        </span><span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">books</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">TitleComparator</span><span class="p">());</span><span class="w">  </span><span class="c1">// Sort by title</span>
<span class="w">        </span><span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">books</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">AuthorComparator</span><span class="p">());</span><span class="w"> </span><span class="c1">// Sort by author</span>
<span class="w">        </span><span class="n">Collections</span><span class="p">.</span><span class="na">sort</span><span class="p">(</span><span class="n">books</span><span class="p">,</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">YearComparator</span><span class="p">());</span><span class="w">   </span><span class="c1">// Sort by publication year</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="note admonition">
<p class="admonition-title">Exercise</p>
<blockquote>
<div><p>You are developing a document management system. As part of the system, you have a <code class="docutils literal notranslate"><span class="pre">Document</span></code> class that contains content.
You want to provide a printing capability for the <code class="docutils literal notranslate"><span class="pre">Document</span></code>.</p>
<p>Instead of embedding the printing logic directly within the <code class="docutils literal notranslate"><span class="pre">Document</span></code> class, you decide to use the delegate design pattern.
This will allow the <code class="docutils literal notranslate"><span class="pre">Document</span></code> class to delegate the responsibility of printing to another class, thus adhering to the single responsibility principle.</p>
<p>Complete the code below.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="c1">// The Printer interface</span>
<span class="kd">interface</span> <span class="nc">Printer</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">print</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">content</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// TODO: Implement the Printer interface for InkjetPrinter</span>
<span class="kd">class</span> <span class="nc">InkjetPrinter</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>

<span class="c1">// TODO: Implement the Printer interface for LaserPrinter</span>
<span class="kd">class</span> <span class="nc">LaserPrinter</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>

<span class="c1">// Document class</span>
<span class="kd">class</span> <span class="nc">Document</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">Printer</span><span class="w"> </span><span class="n">printerDelegate</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">Document</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">content</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">content</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">content</span><span class="p">;</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// TODO: Set the printer delegate</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setPrinterDelegate</span><span class="p">(...)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// TODO: Print the document using the delegate</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">printDocument</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Demo</span>
<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">DelegateDemo</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">Document</span><span class="w"> </span><span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Document</span><span class="p">(</span><span class="s">&quot;This is a sample document content.&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// TODO: Set the delegate to InkjetPrinter and print</span>
<span class="w">        </span><span class="p">...</span>

<span class="w">        </span><span class="c1">// TODO: Set the delegate to LaserPrinter and print</span>
<span class="w">        </span><span class="p">...</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</section>
<section id="observer">
<h2>Observer<a class="headerlink" href="#observer" title="Permalink to this heading">¶</a></h2>
<p>In computer science, it is considered as a good practice to have a loose coupling between objects (the opposite is generally referred to as a “spaghetti code”).
Loose coupling allows for more modular and maintainable code.</p>
<p>The <em>Observer Design Pattern</em> is a pattern that we can use to have a loose coupling between objects.</p>
<p>We will first show how to use observers in the context of GUI development (Graphical User Interface), then will show how to implement observers.</p>
<section id="observer-pattern-on-gui-components">
<span id="awt-swing"></span><h3>Observer pattern on GUI components<a class="headerlink" href="#observer-pattern-on-gui-components" title="Permalink to this heading">¶</a></h3>
<p>In Java, the <code class="docutils literal notranslate"><span class="pre">swing</span></code> and <code class="docutils literal notranslate"><span class="pre">awt</span></code> packages facilitate the creation of Graphical User Interfaces (GUIs).
Swing in Java uses a system based on the observer pattern to handle events, such as mouse clicks.</p>
<p>On the next example we have a solitary button that, when clicked, responds with the message “Thank you” to the user.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.JButton</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.JFrame</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.JOptionPane</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.ActionEvent</span><span class="p">;</span>
<span class="w">    </span><span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.ActionListener</span><span class="p">;</span>

<span class="w">    </span><span class="kd">class</span> <span class="nc">ButtonActionListener</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">ActionListener</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nd">@Override</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">actionPerformed</span><span class="p">(</span><span class="n">ActionEvent</span><span class="w"> </span><span class="n">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">JOptionPane</span><span class="p">.</span><span class="na">showMessageDialog</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span><span class="s">&quot;Thank you!&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">AppWithActionListener</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">JFrame</span><span class="w"> </span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JFrame</span><span class="p">(</span><span class="s">&quot;Hello&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setSize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span><span class="w"> </span><span class="mi">200</span><span class="p">);</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">DISPOSE_ON_CLOSE</span><span class="p">);</span>

<span class="w">        </span><span class="n">JButton</span><span class="w"> </span><span class="n">button</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Press me!&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">button</span><span class="p">.</span><span class="na">addActionListener</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">ButtonActionListener</span><span class="p">());</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">button</span><span class="p">);</span>

<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">ActionListener</span></code> is an interface within Java that contains a single method: <code class="docutils literal notranslate"><span class="pre">actionPerformed()</span></code>.
In our application, this interface is implemented by the <code class="docutils literal notranslate"><span class="pre">ButtonActionListener</span></code> concrete class.
When invoked, it displays a dialog with the message “Thank you!” to the user.
However, this setup remains inactive until we associate an instance of our <code class="docutils literal notranslate"><span class="pre">ButtonActionListener</span></code> to a button using the <code class="docutils literal notranslate"><span class="pre">addActionListener()</span></code> method. This ensures that every time the button is pressed, the <code class="docutils literal notranslate"><span class="pre">actionPerformed()</span></code> method of our listener gets triggered.</p>
<p>It is worth noting that the inner workings of how the button manages this relationship or stores the listener are abstracted away.
What is crucial for developers to understand is the contract: The listener’s method will be invoked whenever the button is clicked.
This process is often referred to as “attaching a callback” to the button, or as “registering an event handler” to the button.
This concept echoes a well-known programming principle sometimes dubbed the Hollywood principle: “Don’t call us, we will call you.”</p>
<p>Although we have registered only one listener to the button, this is not a limitation.
Buttons can accommodate multiple listeners. For example, a second listener could be added to track the total number of times the button has been clicked.</p>
<p>This setup exemplifies the observer design pattern from the perspective of end users, using the JButton as an illustration.
Let’s now delve into how to implement this pattern for custom classes.</p>
</section>
<section id="implementing-the-observer-pattern">
<h3>Implementing the Observer pattern<a class="headerlink" href="#implementing-the-observer-pattern" title="Permalink to this heading">¶</a></h3>
<p>Imagine a scenario where there’s a bank account that multiple people, say family members, can deposit into. Each family member possesses a smartphone and wishes to be alerted whenever a deposit occurs. For the sake of simplicity, these notifications will be printed to the console.
The complete source code is given next.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kd">public</span><span class="w"> </span><span class="kd">interface</span> <span class="nc">AccountObserver</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">accountHasChanged</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">newValue</span><span class="p">);</span>
<span class="p">}</span>


<span class="kd">class</span> <span class="nc">MyObserver</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">AccountObserver</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nd">@Override</span>
<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">accountHasChanged</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">newValue</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="s">&quot;The account has changed. New value: &quot;</span><span class="o">+</span><span class="n">newValue</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">ObservableAccount</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">AccountObserver</span><span class="o">&gt;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">LinkedList</span><span class="p">();</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">deposit</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">d</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">value</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">d</span><span class="p">;</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">AccountObserver</span><span class="w"> </span><span class="n">o</span><span class="p">:</span><span class="w"> </span><span class="n">observers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">o</span><span class="p">.</span><span class="na">accountHasChanged</span><span class="p">(</span><span class="n">value</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addObserver</span><span class="p">(</span><span class="n">AccountObserver</span><span class="w"> </span><span class="n">o</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">observers</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">o</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">ObservableAccount</span><span class="w"> </span><span class="n">account</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ObservableAccount</span><span class="p">();</span>
<span class="w">        </span><span class="n">MyObserver</span><span class="w"> </span><span class="n">observerFather</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyObserver</span><span class="p">();</span>
<span class="w">        </span><span class="n">MyObserver</span><span class="w"> </span><span class="n">observerMother</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyObserver</span><span class="p">();</span>
<span class="w">        </span><span class="n">MyObserver</span><span class="w"> </span><span class="n">observerGirl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyObserver</span><span class="p">();</span>
<span class="w">        </span><span class="n">MyObserver</span><span class="w"> </span><span class="n">observerBoy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">MyObserver</span><span class="p">();</span>

<span class="w">        </span><span class="n">account</span><span class="p">.</span><span class="na">addObserver</span><span class="p">(</span><span class="n">observerFather</span><span class="p">);</span>
<span class="w">        </span><span class="n">account</span><span class="p">.</span><span class="na">addObserver</span><span class="p">(</span><span class="n">observerMother</span><span class="p">);</span>
<span class="w">        </span><span class="n">account</span><span class="p">.</span><span class="na">addObserver</span><span class="p">(</span><span class="n">observerGirl</span><span class="p">);</span>
<span class="w">        </span><span class="n">account</span><span class="p">.</span><span class="na">addObserver</span><span class="p">(</span><span class="n">observerBoy</span><span class="p">);</span>

<span class="w">        </span><span class="n">account</span><span class="p">.</span><span class="na">deposit</span><span class="p">(</span><span class="mi">100</span><span class="p">);</span><span class="w"> </span><span class="c1">// prints 4X &quot;The account has changed. New Value: 100&quot;</span>
<span class="w">        </span><span class="n">account</span><span class="p">.</span><span class="na">deposit</span><span class="p">(</span><span class="mi">50</span><span class="p">);</span><span class="w">  </span><span class="c1">// prints 4X &quot;The account has changed. New Value: 150&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this context, our bank account is the subject being observed.
In our code, this will be modeled by the <code class="docutils literal notranslate"><span class="pre">ObservableAccount</span></code> class.
This account maintains a balance, which can be incremented through a deposit function.</p>
<p>We require a mechanism to register observers (note: the wordings “observer” and “listener” are synonyms that can be used interchangeably) who wish to be informed about deposits. The <code class="docutils literal notranslate"><span class="pre">LinkedList</span></code> data structure is an excellent choice for this purpose: It offers constant-time addition and seamlessly supports iterators since it implements the <code class="docutils literal notranslate"><span class="pre">Iterable</span></code> interface.
To add an <code class="docutils literal notranslate"><span class="pre">AccountObserver</span></code>, one would simply append it to this list.
We have chosen not to check for duplicate observers in the list, believing that ensuring uniqueness is the user’s responsibility.</p>
<p>Whenever a deposit occurs, the account balance is updated, and subsequently, each registered observer is notified by invoking its <code class="docutils literal notranslate"><span class="pre">accountHasChangedMethod()</span></code>, which shares the updated balance.</p>
<p>It is important to note that in this specific implementation, the order of notification is determined by the sequence of registrations because we are using a list. However, from a user’s standpoint, the caller should never make the hypothesis that this order is always used. Indeed, one could replace the <code class="docutils literal notranslate"><span class="pre">LinkedList</span></code> by another collection, for instance a set, which would not guarantee the same order while iterating over the observers.</p>
<div class="note admonition">
<p class="admonition-title">Exercise</p>
<blockquote>
<div><p>In this exercise, you will use the Observer pattern in conjunction with the Java Swing framework.
The application <code class="docutils literal notranslate"><span class="pre">MessageApp</span></code> provides a simple GUI (Graphical User Interface) where users can type a message and submit it.
This message, once submitted, goes through a spell checker and then is meant to be displayed to observers.</p>
<p>Your task is to make it work as expected: when a message is submitted, it is corrected by the spell checker and it is appended in the text area of the app (use <code class="docutils literal notranslate"><span class="pre">textArea.append(String</span> <span class="pre">text)</span></code>).</p>
<figure class="align-default">
<a class="reference internal image-reference" href="_images/gui_exercise.png"><img alt="GUI Exercise" src="_images/gui_exercise.png" style="width: 1332.0px; height: 468.0px;" /></a>
</figure>
<p>It is imperative that your design allows for seamless swapping of the spell checker without necessitating changes to the <code class="docutils literal notranslate"><span class="pre">MessageApp</span></code> class. Additionally, the <code class="docutils literal notranslate"><span class="pre">MessageSubject</span></code> class should remain decoupled from the <code class="docutils literal notranslate"><span class="pre">MessageApp</span></code>.
It must not depend on it and should not even be aware that it exists.</p>
<p>Use the observer pattern in your design. You’ll have to add instance variables and additional arguments to some existing constructors.
When possible, always prefer to depend on interfaces rather than on concrete classes when declaring your parameters.
With the advances of Deep Learning, we anticipate that we will soon have to replace the existing <code class="docutils literal notranslate"><span class="pre">StupidSpellChecker</span></code> by a more advanced one.
Make this planned change as simple as possible, without having to change your classes.</p>
<div class="highlight-java notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">javax.swing.*</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.awt.event.*</span><span class="p">;</span>

<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.ArrayList</span><span class="p">;</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">java.util.List</span><span class="p">;</span>


<span class="kd">public</span><span class="w"> </span><span class="kd">class</span> <span class="nc">MessageApp</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">JFrame</span><span class="w"> </span><span class="n">frame</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">JTextField</span><span class="w"> </span><span class="n">textField</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">JTextArea</span><span class="w"> </span><span class="n">textArea</span><span class="p">;</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">JButton</span><span class="w"> </span><span class="n">submitButton</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="nf">MessageApp</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>

<span class="w">        </span><span class="n">frame</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JFrame</span><span class="p">(</span><span class="s">&quot;Observer Pattern with Swing&quot;</span><span class="p">);</span>
<span class="w">        </span><span class="n">textField</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextField</span><span class="p">(</span><span class="mi">16</span><span class="p">);</span>
<span class="w">        </span><span class="n">textArea</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JTextArea</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">);</span>
<span class="w">        </span><span class="n">submitButton</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">JButton</span><span class="p">(</span><span class="s">&quot;Submit&quot;</span><span class="p">);</span>

<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setLayout</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">java</span><span class="p">.</span><span class="na">awt</span><span class="p">.</span><span class="na">FlowLayout</span><span class="p">());</span>

<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">textField</span><span class="p">);</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">submitButton</span><span class="p">);</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">JScrollPane</span><span class="p">(</span><span class="n">textArea</span><span class="p">));</span>

<span class="w">        </span><span class="c1">// Hint: add an actionListner to the submitButon</span>
<span class="w">        </span><span class="c1">// Hint: use textField.getText() to retrieve the text</span>

<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setDefaultCloseOperation</span><span class="p">(</span><span class="n">JFrame</span><span class="p">.</span><span class="na">EXIT_ON_CLOSE</span><span class="p">);</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">pack</span><span class="p">();</span>
<span class="w">        </span><span class="n">frame</span><span class="p">.</span><span class="na">setVisible</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kd">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span><span class="w"> </span><span class="n">args</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">SwingUtilities</span><span class="p">.</span><span class="na">invokeLater</span><span class="p">(</span><span class="k">new</span><span class="w"> </span><span class="n">Runnable</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">run</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="k">new</span><span class="w"> </span><span class="n">MessageApp</span><span class="p">();</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">SpellChecker</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">String</span><span class="w"> </span><span class="nf">correct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">sentence</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">StupidSpellChecker</span><span class="w"> </span><span class="kd">implements</span><span class="w"> </span><span class="n">SpellChecker</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">public</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="nf">correct</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">sentence</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">sentence</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">interface</span> <span class="nc">MessageObserver</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">updateMessage</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">);</span>
<span class="p">}</span>


<span class="kd">class</span> <span class="nc">MessageSubject</span><span class="w"> </span><span class="p">{</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">MessageObserver</span><span class="o">&gt;</span><span class="w"> </span><span class="n">observers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">ArrayList</span><span class="o">&lt;&gt;</span><span class="p">();</span>
<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">addObserver</span><span class="p">(</span><span class="n">MessageObserver</span><span class="w"> </span><span class="n">observer</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="n">observers</span><span class="p">.</span><span class="na">add</span><span class="p">(</span><span class="n">observer</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">setMessage</span><span class="p">(</span><span class="n">String</span><span class="w"> </span><span class="n">message</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">this</span><span class="p">.</span><span class="na">message</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">message</span><span class="p">;</span>
<span class="w">        </span><span class="n">notifyAllObservers</span><span class="p">();</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">private</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">notifyAllObservers</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">MessageObserver</span><span class="w"> </span><span class="n">observer</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">observers</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="n">observer</span><span class="p">.</span><span class="na">updateMessage</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/lepl1402.png" alt="Logo"/>
            </a></p>
<h3><a href="index.html">Table of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="part1.html">From Python to Java</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Object-Oriented Programming</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basics">Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#abstract-classes">Abstract classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interfaces">Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="#delegation">Delegation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#observer">Observer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="part3.html">Unit testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="part4.html">Algorithms and Data Structures</a></li>
<li class="toctree-l1"><a class="reference internal" href="part5.html">Parallel Programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="part6.html">Functional Programming</a></li>
</ul>

  <div>
    <h3><a href="index.html">Download the book</a></h3>
    <a href="_static/lepl1402.pdf">PDF version of the book</a>
  </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="part3.html" title="Unit testing"
             >next</a> |</li>
        <li class="right" >
          <a href="part1.html" title="From Python to Java"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LEPL1402  documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Object-Oriented Programming</a></li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, Sébastien Jodogne, Ramin Sadre, Pierre Schaus.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.2.2.
    </div>
<div class="footer">
    <script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

<script>
//open external links in a new window
function external_new_window() {
    for(var c = document.getElementsByTagName("a"), a = 0;a < c.length;a++) {
        var b = c[a];
        if(b.getAttribute("href") && b.hostname !== location.hostname) {
            b.target = "_blank";
            b.rel = "noopener";
        }
    }
}
//open PDF links in a new window
function pdf_new_window ()
{
    if (!document.getElementsByTagName) return false;
    var links = document.getElementsByTagName("a");
    for (var eleLink=0; eleLink < links.length; eleLink ++) {
    if ((links[eleLink].href.indexOf('.pdf') !== -1)||(links[eleLink].href.indexOf('.doc') !== -1)||(links[eleLink].href.indexOf('.docx') !== -1)) {
        links[eleLink].onclick =
        function() {
            window.open(this.href);
            return false;
        }
    }
    }
}
pdf_new_window();
external_new_window();
</script>


  </body>
</html>